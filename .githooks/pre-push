#!/bin/bash
# Git pre-push hook to run CI checks before pushing
# Install with: git config core.hooksPath .githooks

echo "üîç Running CI checks before push..."

# Run CI checks
if make ci; then
    echo "‚úÖ All checks passed. Proceeding with push."
    exit 0
else
    echo "‚ùå CI checks failed. Push aborted."
    echo ""
    echo "To fix issues:"
    echo "  - Run 'make fix' to auto-fix linting and formatting"
    echo "  - Run 'make test' to see test failures"
    echo "  - Run 'make ci' to run all checks again"
    echo ""
    echo "To push anyway (not recommended):"
    echo "  git push --no-verify"
    exit 1
fi